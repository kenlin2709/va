<section class="home">
  <section class="hero" aria-label="Featured">
    <div class="hero__frame" (pointerdown)="onHeroPointerDown($event)" (pointerup)="onHeroPointerUp($event)">
      <div class="hero__slides" [attr.data-tone]="heroSlides[heroIndex()].tone">
        <article class="hero__slide" *ngFor="let s of heroSlides; let i = index" [class.is-active]="i === heroIndex()">
          <div class="hero__image" aria-hidden="true" [style.backgroundImage]="'url(' + s.imageUrl + ')'"></div>
          <div class="hero__shade" aria-hidden="true"></div>

          <div class="hero__content">
            <div class="hero__text">
              <h1 class="hero__title">{{ s.title }}</h1>
              <p class="hero__subtitle">{{ s.subtitle }}</p>
              <a class="hero__cta" [href]="s.href">{{ s.cta }}</a>
            </div>
          </div>

        </article>
      </div>

      <div class="hero__dots" aria-label="Hero slides">
        <button
          class="dot"
          type="button"
          *ngFor="let s of heroSlides; let i = index"
          [class.dot--active]="i === heroIndex()"
          (click)="setHeroIndex(i)"
          [attr.aria-label]="'Go to slide ' + (i + 1)"
          [attr.aria-current]="i === heroIndex() ? 'true' : null"
        ></button>
      </div>

      <button class="hero__nav hero__nav--prev" type="button" (click)="prevHero()" aria-label="Previous slide">
        ‹
      </button>
      <button class="hero__nav hero__nav--next" type="button" (click)="nextHero()" aria-label="Next slide">
        ›
      </button>
    </div>
  </section>

  <div class="home-container">
    <section class="section px-3">
      <div class="section__head section__head--center">
        <h2>Best Sellers</h2>
      </div>

      <div class="bestSellers">
        <swiper-container
          class="bestSellers__swiper"
          navigation="true"
          pagination="true"
          pagination-clickable="true"
          slides-per-view="2"
          space-between="40"
          speed="450"
          [breakpoints]="bestSellerBreakpoints"
        >
          <swiper-slide *ngFor="let p of bestSellers()">
            <app-product-card
              class="mt-4"
              [title]="p.name"
              [price]="p.price"
              [imageUrl]="p.imageUrl || null"
              [imageAlt]="p.name"
              [link]="'/collections/all-products/products/' + p.slug"
              addMode="icon"
              (add)="addBestSellerToCart(p)"
            />
          </swiper-slide>
        </swiper-container>
      </div>
    </section>

    <section class="section px-4">
      <div class="section__head section__head--center">
        <h2>Flavour Collections</h2>
      </div>

      <div class="grid grid--collections">
        <a
          class="collectionTile"
          *ngFor="let c of collectionsForView()"
          [href]="c.href"
        >
          <div class="collectionTile__bg" aria-hidden="true" [style.backgroundImage]="c.imageUrl ? 'url(' + c.imageUrl + ')' : null"></div>
          <div class="collectionTile__shade" aria-hidden="true"></div>
          <div class="collectionTile__content">
            <div class="collectionTile__title">{{ c.title }}</div>
            <div class="collectionTile__cta">View</div>
          </div>
        </a>
      </div>
    </section>

    <section class="section px-4">
      <div class="section__head section__head--center">
        <h2>Vape Lab Standards</h2>
      </div>

      <div class="standards-grid">
        <div class="standard-card" *ngFor="let f of features">
          <div class="standard-card__icon" aria-hidden="true">
            <svg *ngIf="f.icon === 'flask'" viewBox="0 0 24 24">
              <path
                d="M10 2h4v2h-1v5.2l4.9 7.9A3.5 3.5 0 0 1 14.93 22H9.07a3.5 3.5 0 0 1-2.97-4.9L11 9.2V4h-1V2Zm2 8.1-4.2 6.8c-.3.5.06 1.1.67 1.1h7.06c.61 0 .97-.6.67-1.1L12 10.1Z"
              />
            </svg>
            <svg *ngIf="f.icon === 'cherries'" viewBox="0 0 24 24">
              <path
                d="M16.5 2c-2.1 0-3.9 1.2-4.7 3-.7-1.8-2.6-3-4.8-3C4.2 2 2 4.2 2 7c0 3.8 3.6 7.4 9.8 13.7.1.1.3.3.4.3.1 0 .3-.2.4-.3C18.4 14.4 22 10.8 22 7c0-2.8-2.2-5-5.5-5Zm-9.5 4c-.6 0-1 .4-1 1 0 .6.4 1 1 1s1-.4 1-1c0-.6-.4-1-1-1Zm10 0c-.6 0-1 .4-1 1 0 .6.4 1 1 1s1-.4 1-1c0-.6-.4-1-1-1Z"
              />
            </svg>
            <svg *ngIf="f.icon === 'cloud'" viewBox="0 0 24 24">
              <path
                d="M7.5 18h9.8a4.2 4.2 0 0 0 .5-8.4A6 6 0 0 0 6.2 9.9 3.9 3.9 0 0 0 7.5 18Z"
              />
            </svg>
          </div>
          <div class="standard-card__content">
            <h3 class="standard-card__title">{{ f.title }}</h3>
            <p class="standard-card__desc">{{ f.description }}</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section px-3">
      <div class="section__head section__head--center">
        <h2>Discover Them All</h2>
      </div>

      <div class="bestSellers">
        <swiper-container
          class="bestSellers__swiper"
          navigation="true"
          pagination="true"
          pagination-clickable="true"
          slides-per-view="2"
          space-between="40"
          speed="450"
          [breakpoints]="bestSellerBreakpoints"
        >
          <swiper-slide *ngFor="let p of bestSellers()">
            <app-product-card
              class="mt-4"
              [title]="p.name"
              [price]="p.price"
              [imageUrl]="p.imageUrl || null"
              [imageAlt]="p.name"
              [link]="'/collections/all-products/products/' + p.slug"
              addMode="icon"
              (add)="addBestSellerToCart(p)"
            />
          </swiper-slide>
        </swiper-container>
      </div>
    </section>
  </div>
</section>


